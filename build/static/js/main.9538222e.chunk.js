(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,a){e.exports=a(305)},156:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},297:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(27),c=a.n(s),o=a(22),l=a(21),u=a(123),i=(a(134),Object(o.c)({loginMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch((arguments.length>1?arguments[1]:void 0).type){case"CLEAR_LOGIN_ERROR":return"";case"LOGIN_INPUT_ERROR":return"Enter your username and password!";case"LOGIN_FAILED":return"Oops! The username and password didn't match. Try again!";case"LOGIN_FAILED_NO_CODE":return"Oops! Something went wrong! Is the server running?";default:return e}},registrationMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch((arguments.length>1?arguments[1]:void 0).type){case"CLEAR_REGISTRATION_ERROR":return"";case"REGISTRATION_INPUT_ERROR":return"Choose a username and password!";case"REGISTRATION_FAILED":return"Oops! That didn't work. The username might already be taken. Try again!";default:return e}}})),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login";switch((arguments.length>1?arguments[1]:void 0).type){case"SET_TO_LOGIN_MODE":return"login";case"SET_TO_REGISTER_MODE":return"register";default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.payload;case"UNSET_USER":return{};default:return e}},d=Object(o.c)({customerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(console.log("Cust reducer"),t.type){case"SET_CUSTOMER":return console.log("action.paylod:",t.payload),t.payload;default:return console.log("state:",e),e}}}),h=a(37),E=a(118),b={client_id:"",builder_id:"",fitter_id:"",status_id:"",brand:"",activation_date:"",date_due:"",user_id:""},v=Object(o.c)({projectReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(console.log("project reducer"),t.type){case"CLEAR_PROJECT":return b;case"SET_PROJECT":return t.payload&&""!==t.payload&&t.payload.project_name?(console.log("action.paylod:",t.payload),t.payload):e;case"SET_PROJECT_PROPERTY":var a=t.payload;return Object(E.a)({},e,Object(h.a)({},a.key,a.value));default:return console.log("state:",e),e}}}),f=Object(o.c)({errors:i,loginMode:m,user:p,customer:d,project:v}),g=a(8),O=a.n(g),y=a(11),_=a(25),C=a.n(_),w=O.a.mark(T),R=O.a.mark(x),j=O.a.mark(N);function T(e){var t;return O.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(y.b)({type:"CLEAR_LOGIN_ERROR"});case 3:return t={headers:{"Content-Type":"application/json"},withCredentials:!0},a.next=6,C.a.post("api/user/login",e.payload,t);case 6:return a.next=8,Object(y.b)({type:"FETCH_USER"});case 8:a.next=20;break;case 10:if(a.prev=10,a.t0=a.catch(0),console.log("Error with user login:",a.t0),401!==a.t0.response.status){a.next=18;break}return a.next=16,Object(y.b)({type:"LOGIN_FAILED"});case 16:a.next=20;break;case 18:return a.next=20,Object(y.b)({type:"LOGIN_FAILED_NO_CODE"});case 20:case"end":return a.stop()}},w,null,[[0,10]])}function x(e){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{"Content-Type":"application/json"},withCredentials:!0},e.next=4,C.a.post("api/user/logout",t);case 4:return e.next=6,Object(y.b)({type:"UNSET_USER"});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error with user logout:",e.t0);case 11:case"end":return e.stop()}},R,null,[[0,8]])}function N(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)("LOGIN",T);case 2:return e.next=4,Object(y.c)("LOGOUT",x);case 4:case"end":return e.stop()}},j)}var S=N,k=O.a.mark(U),I=O.a.mark(L);function U(e){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y.b)({type:"CLEAR_REGISTRATION_ERROR"});case 3:return t.next=5,C.a.post("api/user/register",e.payload);case 5:return t.next=7,Object(y.b)({type:"LOGIN",payload:e.payload});case 7:return t.next=9,Object(y.b)({type:"SET_TO_LOGIN_MODE"});case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),console.log("Error with user registration:",t.t0),t.next=16,Object(y.b)({type:"REGISTRATION_FAILED"});case 16:case"end":return t.stop()}},k,null,[[0,11]])}function L(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)("REGISTER",U);case 2:case"end":return e.stop()}},I)}var M=L,F=O.a.mark(G),A=O.a.mark(D);function G(){var e,t;return O.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e={headers:{"Content-Type":"application/json"},withCredentials:!0},a.next=4,C.a.get("api/user",e);case 4:return t=a.sent,a.next=7,Object(y.b)({type:"SET_USER",payload:t.data});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("User get request failed",a.t0);case 12:case"end":return a.stop()}},F,null,[[0,9]])}function D(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)("FETCH_USER",G);case 2:case"end":return e.stop()}},A)}var P=D,H=O.a.mark(W),J=O.a.mark(Y),q=O.a.mark(K),B=O.a.mark(Q),z=O.a.mark(X),V=O.a.mark(Z);function W(e){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.post("/customer",e.payload);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("Error with add customer:",t.t0);case 8:case"end":return t.stop()}},H,null,[[0,5]])}function Y(e){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/customer");case 3:return t=e.sent,e.next=6,Object(y.b)({type:"SET_CUSTOMER",payload:t.data});case 6:console.log("response from server is:",t.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Unabale to fetch customers from server",e.t0),alert("Unabale to fetch customers from server",e.t0);case 13:case"end":return e.stop()}},J,null,[[0,9]])}function K(e){var t;return O.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C.a.get("/customer/".concat(e.payload));case 3:return t=a.sent,a.next=6,Object(y.b)({type:"SET_FOCUS",payload:t.data});case 6:console.log("response from server is:",t.data),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("Unabale to fetch customers from server",a.t0),alert("Unabale to fetch customers from server",a.t0);case 13:case"end":return a.stop()}},q,null,[[0,9]])}function Q(e){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("In saga Put",e.payload),t.prev=1,t.next=4,C.a.put("/customer/update/".concat(e.payload.id),e.payload);case 4:return t.next=6,alert("Customer Info Updated.");case 6:return t.next=8,Object(y.b)({type:"FETCH_CUSTOMER"});case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("Unable to update customer info",t.t0),alert("Unable to update customer information",t.t0);case 14:case"end":return t.stop()}},B,null,[[1,10]])}function X(e){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("In saga archive Put",e.payload.id),t.prev=1,t.next=4,C.a.put("/customer/archive/".concat(e.payload.id),e.payload);case 4:return t.next=6,alert("Customer Deleted.");case 6:return t.next=8,Object(y.b)({type:"FETCH_CUSTOMER"});case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("Unable to delete customer info",t.t0),alert("Unable to delete customer information",t.t0);case 14:case"end":return t.stop()}},z,null,[[1,10]])}function Z(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)("ADD_CUSTOMER",W);case 2:return e.next=4,Object(y.c)("FETCH_CUSTOMER",Y);case 4:return e.next=6,Object(y.c)("FETCH_FOCUS_CUSTOMER",K);case 6:return e.next=8,Object(y.c)("UPDATE_CUSTOMER",Q);case 8:return e.next=10,Object(y.c)("ARCHIVE_CUSTOMER",X);case 10:case"end":return e.stop()}},V)}var $=Z,ee=O.a.mark(te);function te(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([S(),M(),P(),$()]);case 2:case"end":return e.stop()}},ee)}var ae=a(30),ne=a(31),re=a(33),se=a(32),ce=a(34),oe=a(38),le=a(41),ue=Object(l.b)()(function(e){return r.a.createElement("button",{className:e.className,onClick:function(){return e.dispatch({type:"LOGOUT"})}},"Log Out")}),ie=(a(156),Object(l.b)(function(e){return{user:e.user}})(function(e){return r.a.createElement("div",{className:"nav"},r.a.createElement(oe.b,{to:"/home"},r.a.createElement("h2",{className:"nav-title"},"Prime Solo Project")),r.a.createElement("div",{className:"nav-right"},r.a.createElement(oe.b,{className:"nav-link",to:"/home"},e.user.id?"Home":"Login / Register"),e.user.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.b,{className:"nav-link",to:"/info"},"Info Page"),r.a.createElement(ue,{className:"nav-link"})),r.a.createElement(oe.b,{className:"nav-link",to:"/about"},"About")))})),me=(a(162),function(){return r.a.createElement("footer",null,"\xa9Tbitz")}),pe=a(124),de=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(re.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.login=function(e){e.preventDefault(),a.state.username&&a.state.password?a.props.dispatch({type:"LOGIN",payload:{username:a.state.username,password:a.state.password}}):a.props.dispatch({type:"LOGIN_INPUT_ERROR"})},a.handleInputChangeFor=function(e){return function(t){a.setState(Object(h.a)({},e,t.target.value))}},a}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.errors.loginMessage&&r.a.createElement("h2",{className:"alert",role:"alert"},this.props.errors.loginMessage),r.a.createElement("form",{className:"login-form",onSubmit:this.login},r.a.createElement("h1",null,"Login"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username"},"Username:",r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleInputChangeFor("username")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password:",r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChangeFor("password")}))),r.a.createElement("div",null,r.a.createElement("input",{className:"log-in",type:"submit",name:"submit",value:"Log In"}))),r.a.createElement("center",null,r.a.createElement("button",{type:"button",className:"link-button",onClick:function(){e.props.dispatch({type:"SET_TO_REGISTER_MODE"})}},"Register")))}}]),t}(n.Component),he=Object(l.b)(function(e){return{errors:e.errors}})(de),Ee=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(re.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.registerUser=function(e){e.preventDefault(),a.state.username&&a.state.password?a.props.dispatch({type:"REGISTER",payload:{username:a.state.username,password:a.state.password}}):a.props.dispatch({type:"REGISTRATION_INPUT_ERROR"})},a.handleInputChangeFor=function(e){return function(t){a.setState(Object(h.a)({},e,t.target.value))}},a}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.errors.registrationMessage&&r.a.createElement("h2",{className:"alert",role:"alert"},this.props.errors.registrationMessage),r.a.createElement("form",{className:"reg-form",onSubmit:this.registerUser},r.a.createElement("h1",null,"Register User"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username"},"Username:",r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleInputChangeFor("username")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password:",r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChangeFor("password")}))),r.a.createElement("div",null,r.a.createElement("input",{className:"register",type:"submit",name:"submit",value:"Register"}))),r.a.createElement("center",null,r.a.createElement("button",{type:"button",className:"link-button",onClick:function(){e.props.dispatch({type:"SET_TO_LOGIN_MODE"})}},"Login")))}}]),t}(n.Component),be=Object(l.b)(function(e){return{errors:e.errors}})(Ee),ve=Object(l.b)(function(e){return{user:e.user,loginMode:e.loginMode}})(function(e){var t,a=e.component,n=e.user,s=e.loginMode,c=Object(pe.a)(e,["component","user","loginMode"]);return t=n.id?a:"login"===s?he:be,r.a.createElement(le.b,Object.assign({},c,{component:t}))}),fe=function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null,"This about page is for anyone to read!")))},ge=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Info Page"))},Oe=a(39),ye=a.n(Oe),_e=a(54),Ce=a.n(_e),we=a(53),Re=a.n(we),je=(a(163),function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(re.a)(this,(e=Object(se.a)(t)).call.apply(e,[this].concat(r)))).addCustomer=function(e){console.log("add cust");var t={type:"ADD_CUSTOMER",payload:a.props.reduxStore.customer.customerReducer};a.props.dispatch(t),a.setState({first_name:"",last_namr:"",pro_nouns:"",email:"",phone_number:"",cust_notes:"",date_activated:""}),a.props.history.push("/project/:id")},a.handleChange=function(e){return function(t){var n={type:"SET_CUSTOMER_PROPERTY",payload:{key:e,value:t.target.value}};console.log("sending to project saga"),a.props.dispatch(n)}},a}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;if(e){var t={type:"FETCH_FOCUS_CUSTOMER",payload:e};this.props.dispatch(t)}}},{key:"render",value:function(){var e=this.props.reduxStore.customer.customerReducer;return r.a.createElement("div",{className:"add_custpage"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Re.a,{className:"add_card"},r.a.createElement("div",{className:"addcust_text"},r.a.createElement("br",null),"New Customer Intake:",r.a.createElement("form",{className:"form_newCust"},r.a.createElement("br",null),r.a.createElement(ye.a,{style:{margin:10},className:"new-cust-intake",id:"outlined-simple-start-adornment",label:"First Name",placeholder:"Required",margin:"normal",variant:"outlined",value:e.first_name,onChange:this.handleChange("first_name")}),r.a.createElement(ye.a,{style:{margin:10},className:"new-cust-intake",id:"outlined-name",label:"Last Name",placeholder:"Required",margin:"normal",variant:"outlined",value:e.last_name,onChange:this.handleChange("last_name")}),r.a.createElement(ye.a,{style:{margin:10},className:"new-cust-intake",id:"outline-pronouns",label:"pronouns",variant:"outlined",margin:"normal",value:e.pro_nouns,onChange:this.handleChange("pro_nouns")}),r.a.createElement(ye.a,{style:{margin:10},className:"new-cust-intake",id:"outline-email",label:"email",variant:"outlined",margin:"normal",value:e.email,onChange:this.handleChange("email")}),r.a.createElement(ye.a,{style:{margin:10},className:"new-cust-intake",id:"outline-phonenumber",label:"Phone Number",placeholder:"Required",variant:"outlined",margin:"normal",value:e.phone_number,onChange:this.handleChange("phone_number")}),r.a.createElement(ye.a,{style:{margin:10},className:"new-cust-intake",id:"outline-date",type:"date",variant:"outlined",margin:"normal",value:e.date,onChange:this.handleChange("date_activated")}),r.a.createElement(ye.a,{style:{marginBottom:30},className:"new-cust-intake",id:"outline-notes",label:"notes",variant:"outlined",margin:"normal",multiline:!0,rows:"8",fullWidth:!0,value:e.customer_notes,onChange:this.handleChange("cust_notes")}),r.a.createElement("br",null),r.a.createElement("div",{className:"customer_buttons"},e.editing?r.a.createElement(Ce.a,{onClick:this.updateCust,style:{margin:10},variant:"contained",color:"primary",className:"editCustBtn"},"Update"):r.a.createElement(Ce.a,{onClick:this.addCustomer,style:{margin:10},variant:"contained",color:"primary",className:"addCustBtn",size:"large"},"Add Customer"))))),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(n.Component)),Te=Object(l.b)(function(e){return{reduxStore:e}})(je),xe=a(120),Ne=a.n(xe),Se=a(122),ke=a.n(Se),Ie=a(42),Ue=a.n(Ie),Le=a(121),Me=a.n(Le),Fe=a(79),Ae=a.n(Fe),Ge=a(62),De=a.n(Ge),Pe=Object(l.b)(function(e){return{user:e.user}})(function(e){return r.a.createElement("div",{className:"user_header"},r.a.createElement("p",null,"Welcome, ",e.user.username,"!"))}),He=(a(297),function(e){function t(e){var a;return Object(ae.a)(this,t),(a=Object(re.a)(this,Object(se.a)(t).call(this,e))).addNew=function(){a.props.history.push("/newcustomer")},a.state={is_active:!0},a}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"FETCH_CUSTOMER",payload:{id:this.props.match.params.id}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"dash_main"},r.a.createElement(Re.a,{className:"dash_card"},r.a.createElement("div",{className:"dash_text"},r.a.createElement(Pe,{match:this.props.match,history:this.props.history}),r.a.createElement("h1",null,"Customers"),r.a.createElement(Ce.a,{variant:"contained",color:"primary",onClick:this.addNew,style:{margin:10}},"Add New Customer"),r.a.createElement("br",null),JSON.stringify(this.props.reduxStore.customer.customerReducer)),r.a.createElement(Re.a,{className:"admin_table_card"},r.a.createElement(De.a,null,r.a.createElement(Ne.a,{className:"project_table"},r.a.createElement(Me.a,null,r.a.createElement(Ae.a,null,r.a.createElement(Ue.a,null,"Project"),r.a.createElement(Ue.a,null,"Customer Name"),r.a.createElement(Ue.a,null,"Status"),r.a.createElement(Ue.a,null,"Edit Customer Info"),r.a.createElement(Ue.a,null,"View/Edit"),r.a.createElement(Ue.a,null))),r.a.createElement(ke.a,null,this.props.reduxStore.customer.customerReducer.map(function(t){return r.a.createElement("projectRow",{key:t.id,history:e.props.history,client:t})}),r.a.createElement(Ae.a,null)))))))}}]),t}(n.Component)),Je=Object(l.b)(function(e){return{reduxStore:e}})(He),qe=(a(304),function(e){function t(){return Object(ae.a)(this,t),Object(re.a)(this,Object(se.a)(t).apply(this,arguments))}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"FETCH_USER"})}},{key:"render",value:function(){return r.a.createElement(oe.a,null,r.a.createElement("div",null,r.a.createElement(ie,null),r.a.createElement(le.d,null,r.a.createElement(le.a,{exact:!0,from:"/",to:"/home"}),r.a.createElement(le.b,{exact:!0,path:"/about",component:fe}),r.a.createElement(ve,{exact:!0,path:"/home",component:Je}),r.a.createElement(ve,{exact:!0,path:"/info",component:ge}),r.a.createElement(ve,{exact:!0,path:"/newcustomer",component:Te}),r.a.createElement(le.b,{exact:!0,path:"/project/:id",component:Je}),r.a.createElement(le.b,{render:function(){return r.a.createElement("h1",null,"404")}})),r.a.createElement(me,null)))}}]),t}(n.Component)),Be=Object(l.b)()(qe),ze=Object(u.a)(),Ve=[ze],We=Object(o.e)(f,o.a.apply(void 0,Ve));ze.run(te),c.a.render(r.a.createElement(l.a,{store:We},r.a.createElement(Be,null)),document.getElementById("react-root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.9538222e.chunk.js.map